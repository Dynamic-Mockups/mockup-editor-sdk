var DynamicMockups=function(o){"use strict";return o.initDynamicMockupsIframe=({iframeId:o,data:t,mode:n,callback:e})=>{const c=document.getElementById(o);if(!c)return void console.error(`Iframe with ID '${o}' not found.`);c.src=c.src;c.addEventListener("load",(()=>{c.contentWindow&&(console.log("window.location: ",window.location),console.log("window.location.host: ",window.location.host),console.log("postMessage data: ",{...t,locationHost:window.location.host}),c.contentWindow.postMessage({...t,locationHost:window.location.host},c.src))})),window.addEventListener("message",(o=>{o.data.mockupsExport&&("download"===n?o.data.mockupsExport.forEach(((o,t)=>{const n=o.export_path,e=`Variation ${t+1}`;fetch(n).then((o=>{if(!o.ok)throw new Error(`Failed to fetch ${n}`);return o.blob()})).then((o=>{const t=document.createElement("a");t.href=window.URL.createObjectURL(o),t.download=e+".webp",t.click(),window.URL.revokeObjectURL(t.href)})).catch((o=>console.error("Error downloading the image:",o)))})):"custom"===n&&"function"==typeof e&&e(o.data))}))},o}({});
